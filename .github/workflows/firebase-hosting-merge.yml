  yml
  # This file was auto-generated by the Firebase CLI
  # https://github.com/firebase/firebase-tools

  name: Deploy to Firebase Hosting on merge

  on:
    push:
      branches:
        - main

  jobs:
    build_and_deploy:
      runs-on: ubuntu-latest
      steps:
        # –®–∞–≥ 1: –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
        - name: Checkout repository
          uses: actions/checkout@v4

        # –®–∞–≥ 2: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Flutter SDK
        - name: Set up Flutter
          uses: subosito/flutter-action@v2
          with:
            channel: 'stable'

        # =================================================================
        # üëáüëáüëá –ù–ê–®–ò –ù–û–í–´–ï –û–¢–õ–ê–î–û–ß–ù–´–ï –®–ê–ì–ò üëáüëáüëá
        # =================================================================

        # –®–∞–≥ 2.1 (–û—Ç–ª–∞–¥–∫–∞): –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–µ–∫—É—â—É—é —Ä–∞–±–æ—á—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
        - name: 1. DEBUG - Show current path
          run: pwd

        # –®–∞–≥ 2.2 (–û—Ç–ª–∞–¥–∫–∞): –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–∞–ø–∫–∏
        - name: 2. DEBUG - List files in current directory
          run: ls -la

        # –®–∞–≥ 2.3 (–û—Ç–ª–∞–¥–∫–∞): –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å Flutter
        - name: 3. DEBUG - Check Flutter in PATH
          run: env | grep flutter || echo "flutter not in env"

        # =================================================================
        # üëÜüëÜüëÜ –ö–û–ù–ï–¶ –û–¢–õ–ê–î–û–ß–ù–´–• –®–ê–ì–û–í üëÜüëÜüëÜ
        # =================================================================

        # –®–∞–≥ 3: –°–æ–±–∏—Ä–∞–µ–º –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
        - name: Build Flutter web app
          run: flutter build web

        # –®–∞–≥ 4: –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º (deploy) —Å–æ–±—Ä–∞–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Firebase Hosting
        - name: Deploy to Firebase Hosting
          uses: FirebaseExtended/action-hosting-deploy@v0
          with:
            repoToken: '${{ secrets.GITHUB_TOKEN }}'
            firebaseServiceAccount: '${{ secrets.FIREBASE_SERVICE_ACCOUNT_UPGRADE_CRM }}'
            channelId: live
            projectId: upgrade-crm
